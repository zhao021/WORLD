# 项目启动指南

## 环境准备

在全新的电脑上运行此项目，您需要准备以下环境：

1. **安装PHP环境**
   - 下载并安装PHP（推荐版本7.4+）
   - 确保PHP已添加到系统环境变量中，可以在命令行中使用`php -v`验证安装

2. **下载项目文件**
   - 将项目文件夹完整下载到您的电脑上
   - 确保项目目录结构完整，特别是以下目录：
     ```
     output/
     ├── backups/  # 手动备份目录
     ├── current/  # 当前数据文件目录
     └── history/  # 历史记录目录
     ```
   - 如果这些目录不存在，请手动创建

## 启动方式

### 方式一：使用批处理文件启动（推荐）

1. 在项目根目录中找到`start-server-ansi.bat`文件
2. 双击运行该文件
3. 系统将自动打开命令行窗口并启动PHP内置服务器
4. 服务器启动成功后，会显示`Server running at http://localhost:8000`
5. 在浏览器中访问 http://localhost:8000 即可使用应用
6. 要停止服务器，请在命令行窗口中按下`Ctrl+C`，然后按任意键关闭窗口

### 方式二：手动启动PHP服务器

如果批处理文件无法正常运行，您可以手动启动服务器：

1. 打开命令行窗口（CMD或PowerShell）
2. 切换到项目所在目录：
   ```
   cd 项目目录的完整路径
   ```
3. 执行以下命令启动PHP服务器：
   ```
   php -S localhost:8000 -d default_charset=UTF-8
   ```
4. 在浏览器中访问 http://localhost:8000 即可使用应用

## 常见问题

### 1. "php"不是内部或外部命令

**问题描述**：运行批处理文件时提示"'php'不是内部或外部命令，也不是可运行的程序或批处理文件"

**解决方法**：
- 确认已正确安装PHP
- 检查PHP是否已添加到系统环境变量Path中
- 可以通过以下步骤添加环境变量：
  1. 右键"此电脑"→"属性"→"高级系统设置"→"环境变量"
  2. 在"系统变量"中找到"Path"并编辑
  3. 添加PHP安装目录（如`C:\php`）
  4. 点击"确定"保存更改
  5. 重新打开命令行窗口尝试运行

### 2. 端口被占用

**问题描述**：启动服务器时提示"端口8000已被占用"

**解决方法**：
- 修改`start-server-ansi.bat`文件，将端口号改为其他值（如8080）
- 使用任务管理器关闭占用该端口的程序
- 重新启动服务器

### 3. 数据无法保存

**问题描述**：添加标记后数据未能保存到文件中

**解决方法**：
- 确保`output`目录及其子目录已正确创建
- 检查PHP是否有权限写入这些目录
- 如果使用非PHP服务器（如Python或Node.js），数据将只能保存在浏览器本地存储中

## 注意事项

1. 本应用依赖PHP来实现数据的文件系统存储功能，使用其他服务器（如Python或Node.js）将导致部分功能受限
2. 首次运行时，系统会自动在`output/current/`目录下创建`markers_data.json`文件
3. 每次添加新标记时，系统会在`output/history/`目录下创建历史记录文件
4. 建议定期使用文件管理页面的"导出数据"功能备份您的数据

## 技术支持

如遇到其他问题，请联系作者：zoemarsh937@gmail.com 